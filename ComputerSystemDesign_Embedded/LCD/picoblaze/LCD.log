KCPSM6 Assembler log file for program 'C:\Users\Anthony\Documents\Spring 2015\CSD + Lab\CSD Labs\Final Project\LCD\picoblaze\LCD.psm'.
Generated by KCPSM6 version v2.70
Ken Chapman - Xilinx Ltd - 16th May 2014

Assembly datestamp: 23 Apr 2015
Assembly timestamp: 19:02:21

Contents
  Assembly listing
  List of PSM files
  List of CONSTANTs
  List of TABLEs
  List of STRINGs
  List of line labels
  Instruction usage statistics


Last occupied address: 03E hex
Nominal program memory size: 1K (1024)   address(9:0)
Actual memory size: 4096
  (Default memory size)
Occupied memory locations: 63
Memory locations available: 4033


Assembly listing

 Addr Code                Instruction

 000                      ;------------------------------------------;
 000                      ;     Defining Delay lengths     ;
 000                      ;------------------------------------------;
 000                      CONSTANT delay_1us_constant, 24'd
 000                      NAMEREG sA, data7_4
 000                      NAMEREG sB, data3_0
 000                      ;------------------------------------------;
 000                      ;         Defining Ports and Regs      ;
 000                      ;------------------------------------------;
 000                      CONSTANT port_up, 00              ; Read inputs from buttons
 000                      CONSTANT port_down, 01
 000                      CONSTANT port_center, 02
 000                      CONSTANT port_data, 03
 000                      CONSTANT port_EN, 04
 000                      ;-------------------------------------------;
 000                      ;    Prayer       ;
 000                      ;-------------------------------------------;
 000  28001               ENABLE INTERRUPT
 001  2202E               JUMP 02E[init]
 002  20013               CALL 013[delay_40us]
 003              prayer: 
 003  01A05               LOAD sA[data7_4], 05
 004  01B08               LOAD sB[data3_0], 08
 005  20022               CALL 022[output_ctrl]
 006  22003               JUMP 003[prayer]
 007                      ;-------------------------------------------;
 007                      ;    Defining Routine   ;
 007                      ;-------------------------------------------;
 007  01018    delay_1us: LOAD s0, 18[delay_1us_constant]
 008  19001     wait_1us: SUB s0, 01[01'd]
 009  36008               JUMP NZ, 008[wait_1us]
 00A  25000               RETURN 
 00B  01018    delay_2us: LOAD s0, 18[delay_1us_constant]
 00C  19002     wait_2us: SUB s0, 02[02'd]
 00D  3600C               JUMP NZ, 00C[wait_2us]
 00E  25000               RETURN 
 00F  01018     delay_EN: LOAD s0, 18[delay_1us_constant]
 010  19007      wait_EN: SUB s0, 07[07'd]
 011  36010               JUMP NZ, 010[wait_EN]
 012  25000               RETURN 
 013  01114   delay_40us: LOAD s1, 14[20'd]                 ;20 x 2us = 40us
 014  2000B    wait_40us: CALL 00B[delay_2us]
 015  19101               SUB s1, 01
 016  36014               JUMP NZ, 014[wait_40us]
 017  25000               RETURN 
 018  01232    delay_2ms: LOAD s2, 32[50'd]                 ;50 x 40us = 2ms
 019  20013     wait_2ms: CALL 013[delay_40us]
 01A  19201               SUB s2, 01
 01B  36019               JUMP NZ, 019[wait_2ms]
 01C  25000               RETURN 
 01D  0130F   delay_30ms: LOAD s3, 0F[15'd]                 ;30 x 1ms = 30ms
 01E  20018    wait_30ms: CALL 018[delay_2ms]
 01F  19301               SUB s3, 01
 020  3601E               JUMP NZ, 01E[wait_30ms]
 021  25000               RETURN 
 022         output_ctrl: 
 022  2DA03               OUTPUT sA[data7_4], 03[port_data]
 023  22028               JUMP 028[pulse_EN]
 024  20007               CALL 007[delay_1us]
 025  2DB03               OUTPUT sB[data3_0], 03[port_data]
 026  22028               JUMP 028[pulse_EN]
 027  25000               RETURN 
 028            pulse_EN: 
 028  01301               LOAD s3, 01
 029  2D304               OUTPUT s3, 04[port_EN]
 02A  2000F               CALL 00F[delay_EN]
 02B  01300               LOAD s3, 00
 02C  2D304               OUTPUT s3, 04[port_EN]
 02D  25000               RETURN 
 02E                      ;-------------------------------------------;
 02E                      ;   Initialization of LCD   ;
 02E                      ;-------------------------------------------;
 02E                init: 
 02E  2001D               CALL 01D[delay_30ms]
 02F  01A02               LOAD sA[data7_4], 02
 030  01B02               LOAD sB[data3_0], 02
 031  20022               CALL 022[output_ctrl]
 032  20013               CALL 013[delay_40us]
 033  01A00               LOAD sA[data7_4], 00
 034  01B0F               LOAD sB[data3_0], 0F
 035  20022               CALL 022[output_ctrl]
 036  20013               CALL 013[delay_40us]
 037  01A00               LOAD sA[data7_4], 00
 038  01B01               LOAD sB[data3_0], 01
 039  20022               CALL 022[output_ctrl]
 03A  20018               CALL 018[delay_2ms]
 03B  01A00               LOAD sA[data7_4], 00
 03C  01B04               LOAD sB[data3_0], 04
 03D  20022               CALL 022[output_ctrl]
 03E  25000               RETURN 


All unused memory locations contain zero (equivalent to 'LOAD s0, s0')



List of PSM files that have been assembled

C:\Users\Anthony\Documents\Spring 2015\CSD + Lab\CSD Labs\Final Project\LCD\picoblaze\LCD.psm



List of defined constants

 CONSTANT name      Value        Source PSM File

 timestamp_hours    19'd         
 timestamp_minutes  02'd         
 timestamp_seconds  21'd         
 datestamp_year     15'd         
 datestamp_month    4'd          
 datestamp_day      23'd         
 NUL                00           
 BEL                07           
 BS                 08           
 HT                 09           
 LF                 0A           
 VT                 0B           
 CR                 0D           
 ESC                1B           
 DEL                7F           
 DCS                90           
 ST                 9C           
 delay_1us_constant 24'd         LCD.psm
 port_up            00           LCD.psm
 port_down          01           LCD.psm
 port_center        02           LCD.psm
 port_data          03           LCD.psm
 port_EN            04           LCD.psm



No TABLEs defined



List of text strings

 STRING name       String         Source PSM File

 KCPSM6_version$   "v2.70"        
 datestamp$        "23 Apr 2015"  
 timestamp$        "19:02:21"     



List of line labels

   Label         Addr  Source PSM File

   prayer        003   LCD.psm
   delay_1us     007   LCD.psm
   wait_1us      008   LCD.psm
   delay_2us     00B   LCD.psm
   wait_2us      00C   LCD.psm
   delay_EN      00F   LCD.psm
   wait_EN       010   LCD.psm
   delay_40us    013   LCD.psm
   wait_40us     014   LCD.psm
   delay_2ms     018   LCD.psm
   wait_2ms      019   LCD.psm
   delay_30ms    01D   LCD.psm
   wait_30ms     01E   LCD.psm
   output_ctrl   022   LCD.psm
   pulse_EN      028   LCD.psm
   init          02E   LCD.psm



Instruction usage statistics

 Instruction    Instances

 LOAD             18
 STAR              -

 AND               -
 OR                -
 XOR               -

 ADD               -
 ADDCY             -
 SUB               6
 SUBCY             -

 TEST              -
 TESTCY            -
 COMPARE           -
 COMPARECY         -

 SL0               -
 SL1               -
 SLX               -
 SLA               -
 RL                -
 SR0               -
 SR1               -
 SRX               -
 SRA               -
 RR                -

 REGBANK           -

 INPUT             -
 OUTPUT            4
 OUTPUTK           -

 STORE             -
 FETCH             -

 DISABLE           -
 ENABLE            1
 RETURNI           -

 JUMP             10
 JUMP@             -
 CALL             15
 CALL@             -
 RETURN            9
 LOAD&RETURN       -

 HWBUILD           -



End of KCPSM6 log file.
